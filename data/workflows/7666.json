{"meta":{"instanceId":"a93c2d1221e546a84f92e07ce458d71f828e250bc33a25fc5481e8d9db0e3c2f"},"tags":[],"nodes":[{"id":"ff9ed5e3-49e0-41ed-a10b-10ac380c0b47","name":"Start Trigger","type":"n8n-nodes-base.manualTrigger","position":[200,300],"typeVersion":1},{"id":"0058cd43-e14f-4a4c-b15e-c04f569c8c70","name":"Read Planning Sheet","type":"n8n-nodes-base.googleSheets","position":[400,300],"parameters":{"range":"Planning!A1:E1000","sheetId":"1PiygWwVov4WzA8qvUOaZ9N1G9JgtgmpYy0w8ty3CHd0","operation":"lookup","returnAllMatches":true},"credentials":{"googleSheetsOAuth2Api":{"id":"1","name":"Google Sheets account"}},"typeVersion":4},{"id":"b3082328-2ab1-4857-b3fa-7db55f89160d","name":"Filter Status = Start","type":"n8n-nodes-base.if","position":[600,300],"parameters":{"conditions":{"string":[{"value1":"={{$json[\"Status\"]}}","value2":"Start","operation":"equals"}]}},"typeVersion":1},{"id":"f8b0b56b-e580-4b67-9871-4a9c3bb92446","name":"Format Prompt","type":"n8n-nodes-base.set","position":[800,300],"parameters":{"values":{"string":[{"name":"prompt","value":"Write a guest post in German about the topic '{{ $json.Topic }}'. Include this note: '{{ $json.Note }}'"}]},"keepOnlySet":true},"typeVersion":2},{"id":"a95b45a5-b84e-43a0-ae53-2c2854e317d4","name":"OpenAI - Generate Post","type":"n8n-nodes-base.openAi","position":[1000,300],"parameters":{"model":"text-davinci-003","prompt":"={{$json[\"prompt\"]}}","resource":"completion","maxTokens":1000,"temperature":0.7},"credentials":{"openAiApi":{"id":"2","name":"OpenAI account"}},"typeVersion":1},{"id":"96de9e63-5680-4db5-9936-65e33ff73c95","name":"Save Post to Sheet","type":"n8n-nodes-base.googleSheets","position":[1200,300],"parameters":{"range":"Generated!A1:C1","sheetId":"1PiygWwVov4WzA8qvUOaZ9N1G9JgtgmpYy0w8ty3CHd0","operation":"append","dataToSend":"autoMapInputData"},"credentials":{"googleSheetsOAuth2Api":{"id":"1","name":"Google Sheets account"}},"typeVersion":4},{"id":"d5bc4074-7ab1-4a0e-85cb-5c61792b53a9","name":"Mark as Finished","type":"n8n-nodes-base.googleSheets","position":[1400,300],"parameters":{"key":"={{$json.rowIndex}}","range":"Planning!E:E","options":{"valueInputOption":"RAW"},"sheetId":"1PiygWwVov4WzA8qvUOaZ9N1G9JgtgmpYy0w8ty3CHd0","operation":"update","dataToSend":{"values":[{"value":"Finished","column":"Status"}]}},"credentials":{"googleSheetsOAuth2Api":{"id":"1","name":"Google Sheets account"}},"typeVersion":4}],"settings":{},"connections":{"Format Prompt":{"main":[[{"node":"OpenAI - Generate Post","type":"main","index":0}]]},"Start Trigger":{"main":[[{"node":"Read Planning Sheet","type":"main","index":0}]]},"Save Post to Sheet":{"main":[[{"node":"Mark as Finished","type":"main","index":0}]]},"Read Planning Sheet":{"main":[[{"node":"Filter Status = Start","type":"main","index":0}]]},"Filter Status = Start":{"main":[[{"node":"Format Prompt","type":"main","index":0}]]},"OpenAI - Generate Post":{"main":[[{"node":"Save Post to Sheet","type":"main","index":0}]]}}}