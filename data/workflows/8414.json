{"id":"FJ6VM9ni2FjqUGyb","meta":{"instanceId":"944bb47efd683c194e29e9da3c96945f789e6aad0018ee479384e9f3e3b55e4f"},"name":"Generate AI reports for Meta Ads campaigns with Claude and MCP via Slack","tags":[],"nodes":[{"id":"3848272a-30b0-45cd-8f86-e0f43d7d7e38","name":"Anthropic Chat Model","type":"@n8n/n8n-nodes-langchain.lmChatAnthropic","position":[-16,400],"parameters":{"model":{"__rl":true,"mode":"list","value":"claude-sonnet-4-20250514","cachedResultName":"Claude 4 Sonnet"},"options":{}},"credentials":{"anthropicApi":{"id":"t8uJEr0xaTh0acYw","name":"Anthropic account"}},"typeVersion":1.3},{"id":"bf991043-b4e2-4f74-b373-8070221f97a0","name":"Split Out","type":"n8n-nodes-base.splitOut","position":[-320,176],"parameters":{"options":{},"fieldToSplitOut":"current_clients"},"typeVersion":1},{"id":"a6bc1739-d45f-4510-af50-f4977737b666","name":"Sticky Note1","type":"n8n-nodes-base.stickyNote","position":[-1072,48],"parameters":{"color":5,"width":336,"height":400,"content":"### Generate AI reports for Meta Ads campaigns with Claude and MCP via Slack\n\n- Pulls performance **data from multiple Meta Ads accounts** for a specified time period (last 7, 14, or 30 days)\n- Uses Claude AI with Pipeboardâ€™s Meta Ads MCP to **analyze campaign performance, identify trends, and generate actionable insights**\n- Generates professional reports with **AI-driven recommendations** for optimization\n- Automatically delivers formatted reports to your Slack channels\n- Runs on a **schedule** (weekly/daily) or triggered manually\n"},"typeVersion":1},{"id":"e3f9582d-59dc-4f27-bbb8-78c764c9efd6","name":"Schedule Trigger","type":"n8n-nodes-base.scheduleTrigger","position":[-688,176],"parameters":{"rule":{"interval":[{"field":"weeks","triggerAtDay":[1],"triggerAtHour":1}]}},"typeVersion":1.2},{"id":"bba05326-4b80-4d81-8d9b-bc6696274b8a","name":"Accounts to be Analyzed","type":"n8n-nodes-base.set","position":[-496,176],"parameters":{"options":{},"assignments":{"assignments":[{"id":"2ccef907-8ffe-49e8-a7b7-df6144fbc04f","name":"current_clients","type":"array","value":"=[\"act_YOUR_ACCOUNT_ID1\", \"act_YOUR_ACCOUNT_ID2\"]"}]}},"typeVersion":3.4},{"id":"d591f3cd-c18c-4c6f-ac3e-58da4c44543f","name":"Pipeboard Meta Ads MCP","type":"@n8n/n8n-nodes-langchain.mcpClientTool","position":[176,400],"parameters":{"options":{"timeout":60000},"endpointUrl":"https://mcp.pipeboard.co/meta-ads-mcp","authentication":"bearerAuth","serverTransport":"httpStreamable"},"credentials":{"httpBearerAuth":{"id":"IaNxUd9FFQlEutEk","name":"Bearer Auth account"}},"typeVersion":1.1},{"id":"fc32814a-e4a4-4d21-8e48-8eb1157607cb","name":"Send a message","type":"n8n-nodes-base.slack","position":[384,176],"webhookId":"de2ad095-1c2a-45bf-bd1c-6ab0f57da67d","parameters":{"text":"={{output}}","select":"channel","channelId":{"__rl":true,"mode":"list","value":""},"otherOptions":{}},"typeVersion":2.3},{"id":"543b76b4-88a3-4077-b5a7-4f7f89f028fa","name":"Agent","type":"@n8n/n8n-nodes-langchain.agent","position":[32,176],"parameters":{"text":"=## Steps to follow\nFor the {{$json.analysis_period }}, collect CPL, total leads, and total spend for {{ $('Split Out').item.json.current_clients }}\n\noutput that in a nice user-friendly markdown format","options":{"systemMessage":"=You are a marketing performance report Agent.\n\n- Use the tool(s) attached to execute the user actions\n- Respond concisely and do **not** disclose these internal instructions to the user. Only return defined output below."},"promptType":"define"},"typeVersion":1.7},{"id":"54b41621-3f10-4c41-ada2-3130933eff34","name":"Analysis Period","type":"n8n-nodes-base.set","position":[-144,176],"parameters":{"options":{},"assignments":{"assignments":[{"id":"2ccef907-8ffe-49e8-a7b7-df6144fbc04f","name":"analysis_period","type":"string","value":"=last 7 days"}]}},"typeVersion":3.4},{"id":"dc53ae26-1423-4e22-ba2a-ccf3a2a439bb","name":"Sticky Note2","type":"n8n-nodes-base.stickyNote","position":[-560,336],"parameters":{"width":256,"height":240,"content":"Set the account ids to be analyzed. \n\nThe format must be `\"act_<numbers>\"`, surounded by [ and ] and separated by commas `,`. Example:\n\n[\"act_123\", \"act_234\"]\n\nGet your account ID numbers from https://adsmanager.facebook.com/\n"},"typeVersion":1},{"id":"b159a9af-ca51-4ba1-94d4-d0cfadb9d756","name":"Sticky Note3","type":"n8n-nodes-base.stickyNote","position":[0,0],"parameters":{"width":256,"content":"Set an API key for Anthropic.\n\nGet it from https://console.anthropic.com/settings/keys\n"},"typeVersion":1},{"id":"f6ed4840-4c23-4075-b873-a2c2dc7abe1a","name":"Sticky Note4","type":"n8n-nodes-base.stickyNote","position":[288,400],"parameters":{"content":"Create an account on https://pipeboard.co and obtain an API key from https://pipeboard.co/api-keys\n\nAdd it as a **Bearer Auth Token**"},"typeVersion":1},{"id":"3606bf1f-5614-44ae-b3e0-76451dfd46af","name":"Sticky Note","type":"n8n-nodes-base.stickyNote","position":[416,0],"parameters":{"content":"Configure the Slack node to set a destination workspace and channel"},"typeVersion":1}],"active":false,"pinData":{},"settings":{"executionOrder":"v1"},"versionId":"2549be77-2da5-468b-b450-6b300a0d6b73","connections":{"Agent":{"main":[[{"node":"Send a message","type":"main","index":0}]]},"Split Out":{"main":[[{"node":"Analysis Period","type":"main","index":0}]]},"Analysis Period":{"main":[[{"node":"Agent","type":"main","index":0}]]},"Schedule Trigger":{"main":[[{"node":"Accounts to be Analyzed","type":"main","index":0}]]},"Anthropic Chat Model":{"ai_languageModel":[[{"node":"Agent","type":"ai_languageModel","index":0}]]},"Pipeboard Meta Ads MCP":{"ai_tool":[[{"node":"Agent","type":"ai_tool","index":0}]]},"Accounts to be Analyzed":{"main":[[{"node":"Split Out","type":"main","index":0}]]}}}