{"meta":{"instanceId":"c8c9ba5d3eb26ae47a06d24ff164a01c0d73ed4753a74903c2bb609d434a0f6b","templateCredsSetupCompleted":true},"nodes":[{"id":"bf1d8bf4-e17e-4e1e-9552-2b39a8ab5350","name":"Workflow description","type":"n8n-nodes-base.stickyNote","position":[-506,-250],"parameters":{"color":5,"width":272,"height":912,"content":"## Workflow overview\n\nDaily weather email. Runs at 07:00. Pulls Meteosource forecast for the configured place. Sends a short Gmail message with today in the subject and tomorrow in the body. Quick check before the day starts.\n\n### Setup\n- **Config - place_id and recipient**\n  - `place_id` - your Meteosource location (example: london or a specific ID)\n  - `send_to_email` - where to send the email\n- **Credentials**\n  - Meteosource http query auth for the API call\n  - Gmail OAuth2 for sending\n- **Schedule**\n  - Default is 07:00. Adjust the hour in the schedule node.\n\n### How it flows\n1) Schedule fires\n2) Config provides `place_id` and `send_to_email`\n3) Meteosource API returns daily data\n4) Gmail node sends:\n   - Subject: today’s summary\n   - Body: tomorrow’s summary\n\nTip: keep it simple first. Then, if needed, add HTML email, more fields, or multiple recipients."},"typeVersion":1},{"id":"b08b2404-aa56-4298-a405-680774f839d8","name":"Config - place_id and recipient","type":"n8n-nodes-base.set","position":[-32,0],"parameters":{"options":{},"assignments":{"assignments":[{"id":"d8171a8a-a78e-486e-aed5-02bf72137c3e","name":"place_id","type":"string","value":"london"},{"id":"ffdd0b58-8f4c-43b7-9f9e-efbbfbd537c3","name":"send_to_email","type":"string","value":"example@example.com"}]}},"typeVersion":3.4},{"id":"c7ae6874-f8e9-4e59-a5ce-7c9fa13f9e74","name":"Schedule - every day 07:00","type":"n8n-nodes-base.scheduleTrigger","position":[-256,0],"parameters":{"rule":{"interval":[{"triggerAtHour":7}]}},"typeVersion":1.2},{"id":"937b34e5-bc4b-4a10-9dd6-33da196da565","name":"Email - send weather summary","type":"n8n-nodes-base.gmail","position":[416,0],"webhookId":"f8f87fd7-7f32-43a2-b7f2-3c55864d0bae","parameters":{"sendTo":"={{ $('Config - place_id and recipient').item.json.send_to_email }}","message":"=Tomorrow:  {{ $json.daily.data[1].summary }}\n\nPowered by Meteosource","options":{"appendAttribution":false},"subject":"=Weather today:  {{ $json.daily.data[0].summary }}","emailType":"text"},"credentials":{"gmailOAuth2":{"id":"E3alb5H7xlfxfBur","name":"Jim Halpert"}},"typeVersion":2.1},{"id":"9514f606-f579-49d1-9d38-a1a5c111c4a8","name":"Weather API - Meteosource","type":"n8n-nodes-base.httpRequest","position":[192,0],"parameters":{"url":"https://www.meteosource.com/api/v1/free/point?&sections=all&timezone=UTC&language=en&units=metric","options":{},"sendQuery":true,"authentication":"genericCredentialType","genericAuthType":"httpQueryAuth","queryParameters":{"parameters":[{"name":"place_id","value":"={{ $json.place_id }}"}]}},"credentials":{"httpQueryAuth":{"id":"S4axvOS2mm5SkOaW","name":"Meteosource credentials"}},"typeVersion":4.2}],"pinData":{},"connections":{"Weather API - Meteosource":{"main":[[{"node":"Email - send weather summary","type":"main","index":0}]]},"Schedule - every day 07:00":{"main":[[{"node":"Config - place_id and recipient","type":"main","index":0}]]},"Config - place_id and recipient":{"main":[[{"node":"Weather API - Meteosource","type":"main","index":0}]]}}}