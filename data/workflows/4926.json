{"id":"kBUmCI2wIusHTtql","meta":{"instanceId":"1e7a9324ab9334116f824c649ad91453265a99b04bad06eba0c9ec33cc653365"},"name":"Nail Salon US","tags":[],"nodes":[{"id":"4380f8c2-9aed-47f8-b5ae-fc05ae343944","name":"WhatsApp Trigger","type":"n8n-nodes-base.whatsAppTrigger","position":[-10160,1580],"webhookId":"36d2f65f-83a5-4b48-ba15-351828480633","parameters":{},"typeVersion":1},{"id":"f7cdf2d8-9b6b-4782-9449-08b3d2f36348","name":"Download Image","type":"n8n-nodes-base.httpRequest","position":[-3220,1780],"parameters":{},"typeVersion":4.2},{"id":"1bc5c93c-77c3-4ad8-b1ff-3bca5313f13c","name":"Analyze Image","type":"@n8n/n8n-nodes-langchain.openAi","position":[-2980,1780],"parameters":{},"typeVersion":1.8},{"id":"6818c1ee-c489-487e-ae32-684bbd70c46a","name":"Download Audio","type":"n8n-nodes-base.httpRequest","position":[-3220,1460],"parameters":{},"typeVersion":4.2},{"id":"3128b617-aaf9-494f-a4d1-23e6984397b0","name":"Transcribe Audio","type":"@n8n/n8n-nodes-langchain.openAi","position":[-2980,1460],"parameters":{},"typeVersion":1.8},{"id":"b760b73a-c992-43fe-8255-11c48fde248e","name":"Download File","type":"n8n-nodes-base.httpRequest","position":[-3240,2120],"parameters":{},"typeVersion":4.2},{"id":"b35ebaaa-0009-4370-aaab-2997f343b261","name":"Extract from File","type":"n8n-nodes-base.extractFromFile","position":[-2980,2120],"parameters":{},"typeVersion":1},{"id":"3219dbfc-db0a-4798-82ed-f068cffd090d","name":"Get File Url","type":"n8n-nodes-base.whatsApp","position":[-3460,2120],"webhookId":"33325343-415f-4d00-a271-f58a2157860b","parameters":{},"typeVersion":1},{"id":"faefff9e-d1f3-4bd9-8aa9-22fe95eb43c7","name":"Only PDF File","type":"n8n-nodes-base.if","position":[-3740,2140],"parameters":{},"typeVersion":2.2},{"id":"1ac94f56-0022-4478-abbd-7f8263c867d6","name":"Fix mimeType for Audio","type":"n8n-nodes-base.code","position":[280,3880],"parameters":{},"typeVersion":2},{"id":"69dfaa3e-3d58-4d59-a61a-bd790d356da1","name":"Send message","type":"n8n-nodes-base.whatsApp","position":[260,4080],"webhookId":"2d49d505-964e-41af-a7e0-6ee1353d916e","parameters":{},"typeVersion":1},{"id":"b57c81f2-b3e0-4f16-9274-9cd4a66e08f1","name":"Send audio","type":"n8n-nodes-base.whatsApp","position":[500,3880],"webhookId":"ecdb0942-3d3d-4227-baff-6703e9f642b9","parameters":{},"typeVersion":1},{"id":"949b5cd4-d8b3-4b6f-890b-a3f2fc2f76bd","name":"Incorrect format","type":"n8n-nodes-base.whatsApp","position":[-3460,2400],"webhookId":"deccd8d0-41ad-4680-8e02-3341d1b6116d","parameters":{},"typeVersion":1},{"id":"1ae9804a-e8fd-4035-8b9a-5cd21f4e36ed","name":"Text","type":"n8n-nodes-base.set","position":[-3240,1120],"parameters":{},"typeVersion":3.4},{"id":"6f48be7e-f99f-41d7-a34d-223f165c5dd6","name":"Audio","type":"n8n-nodes-base.set","position":[-2720,1460],"parameters":{},"typeVersion":3.4},{"id":"eba50369-fa10-4871-a4a6-6ca834aaf185","name":"Image","type":"n8n-nodes-base.set","position":[-2720,1780],"parameters":{},"typeVersion":3.4},{"id":"138fba31-f65b-400e-ad00-3a5a1bb80831","name":"File","type":"n8n-nodes-base.set","position":[-2720,2120],"parameters":{},"typeVersion":3.4},{"id":"98635683-a651-4242-9a81-3c045b0491b1","name":"Not supported","type":"n8n-nodes-base.whatsApp","position":[-4740,1760],"webhookId":"63f23ab1-de78-4108-90b3-9de916e62f2d","parameters":{},"typeVersion":1},{"id":"e882eb3e-928c-4be7-a50e-4fce8e4e0519","name":"Get Image Url","type":"n8n-nodes-base.whatsApp","position":[-3460,1780],"webhookId":"59c18510-df35-48a8-8878-785af94c4246","parameters":{},"typeVersion":1},{"id":"2f5bffbc-bc50-4465-858b-96671a7cabf0","name":"Get Audio Url","type":"n8n-nodes-base.whatsApp","position":[-3480,1460],"webhookId":"35d87123-bad4-40c4-8058-84ab61eafab6","parameters":{},"typeVersion":1},{"id":"ba08c1a9-dc7b-4759-9428-00d5b68a2932","name":"Generate Audio Response","type":"@n8n/n8n-nodes-langchain.openAi","position":[60,3880],"parameters":{},"typeVersion":1.8},{"id":"7b35913d-a4da-4330-b975-15ececec11fa","name":"Sticky Note","type":"n8n-nodes-base.stickyNote","position":[-3820,1100],"parameters":{"content":""},"typeVersion":1},{"id":"7e7d5c95-4f2a-4168-ad53-6a72ad069865","name":"Sticky Note1","type":"n8n-nodes-base.stickyNote","position":[-3820,1420],"parameters":{"content":""},"typeVersion":1},{"id":"e157f532-1a79-413b-90c6-42f4ca7c25cc","name":"Sticky Note2","type":"n8n-nodes-base.stickyNote","position":[-3820,1740],"parameters":{"content":""},"typeVersion":1},{"id":"68f4b508-0662-46d0-b0ff-f1e3d1a9cf32","name":"Sticky Note3","type":"n8n-nodes-base.stickyNote","position":[-3820,2060],"parameters":{"content":""},"typeVersion":1},{"id":"56ab02ca-cf00-4c56-82e6-72d7d0195ab6","name":"From audio to audio?","type":"n8n-nodes-base.if","position":[60,4080],"parameters":{},"typeVersion":2.2},{"id":"0b57e4b9-0d8a-4b65-acbf-8a524f5a8d2e","name":"Input type","type":"n8n-nodes-base.switch","position":[-4740,1440],"parameters":{},"typeVersion":3.2},{"id":"52158bd6-be12-41af-ab3b-e063800b078c","name":"Sticky Note5","type":"n8n-nodes-base.stickyNote","position":[-10880,780],"parameters":{"content":""},"typeVersion":1},{"id":"4ebfbfdc-59a0-4752-a76f-65ef05ea9fcd","name":"Simple Memory2","type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","position":[-1760,1740],"parameters":{},"typeVersion":1.3},{"id":"6d0d65d2-225a-46a8-8535-b4a9c46dc1e2","name":"Switch Route","type":"n8n-nodes-base.switch","position":[-560,1460],"parameters":{},"typeVersion":3.2},{"id":"d3a48aa7-d378-4fbc-a1f5-a7fe1b6d58a6","name":"Intent Recognition Agent","type":"@n8n/n8n-nodes-langchain.agent","onError":"continueErrorOutput","position":[-1920,1500],"parameters":{},"retryOnFail":true,"typeVersion":1.9},{"id":"84562e48-299c-43b4-8209-28cc591d83ef","name":"OpenAI Chat Model","type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","position":[-1560,1980],"parameters":{},"typeVersion":1.2},{"id":"cb791657-3bb1-43f5-9714-d12b80401e74","name":"Sticky Note15","type":"n8n-nodes-base.stickyNote","position":[0,2040],"parameters":{"content":""},"typeVersion":1},{"id":"cc044652-67af-44b1-a81e-53f4d2db2872","name":"Sticky Note16","type":"n8n-nodes-base.stickyNote","position":[0,2900],"parameters":{"content":""},"typeVersion":1},{"id":"8444b26d-ec70-4c81-a351-6d5760c43797","name":"OpenAI Chat Model2","type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","position":[940,3460],"parameters":{},"typeVersion":1.2},{"id":"268f1a24-67b5-43b0-976c-13032952643b","name":"Google Gemini Chat Model","type":"@n8n/n8n-nodes-langchain.lmChatGoogleGemini","position":[320,3460],"parameters":{},"typeVersion":1},{"id":"deb0e34f-4327-4fa7-83a5-c2ea9250526f","name":"General Inquiry","type":"@n8n/n8n-nodes-langchain.agent","onError":"continueErrorOutput","position":[100,3200],"parameters":{},"retryOnFail":true,"typeVersion":1.9},{"id":"3961b971-310b-498b-bad0-9bbce816a63f","name":"General Inquiry - Backup","type":"@n8n/n8n-nodes-langchain.agent","onError":"continueErrorOutput","position":[880,3220],"parameters":{},"retryOnFail":true,"typeVersion":1.9},{"id":"04aec1f5-efbb-4868-a64f-935d13074c16","name":"Parse General Inquiry Output","type":"n8n-nodes-base.code","position":[1480,3000],"parameters":{},"typeVersion":2},{"id":"b69610a5-2a03-47b7-bef1-749e69f4bb6b","name":"Simple Memory1","type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","position":[480,3460],"parameters":{},"typeVersion":1.3},{"id":"efc4ed20-3e29-4860-a745-2a949e3d3147","name":"Google Gemini Chat Model1","type":"@n8n/n8n-nodes-langchain.lmChatGoogleGemini","position":[-2000,1740],"parameters":{},"typeVersion":1},{"id":"19e41ff7-b831-4c08-87ae-a247d61f5bdb","name":"Update Ready?","type":"n8n-nodes-base.if","position":[2460,2220],"parameters":{},"typeVersion":2.2},{"id":"607260cc-85e9-4f58-a1cb-e43cc412f025","name":"Update Event","type":"n8n-nodes-base.googleCalendar","position":[2720,2120],"parameters":{},"typeVersion":1.3},{"id":"b67cc3c1-c890-480b-b171-24ec25d14b8d","name":"Search Airtable Record","type":"n8n-nodes-base.airtable","position":[2920,2120],"parameters":{},"typeVersion":2.1},{"id":"a7a72811-61d2-41cd-a398-0959e80ddf9f","name":"Update Airtable Record","type":"n8n-nodes-base.airtable","position":[3160,2120],"parameters":{},"typeVersion":2.1},{"id":"8e34cc7c-de22-46fe-8d8b-e5cd68493151","name":"Customer Confirmation Message","type":"n8n-nodes-base.code","position":[3600,2120],"parameters":{},"typeVersion":2},{"id":"da11d41a-d8ad-4718-be89-1e2e83ce047a","name":"Multiple Appointments","type":"n8n-nodes-base.set","position":[2720,2340],"parameters":{},"typeVersion":3.4},{"id":"af46d06d-593f-4554-8372-1f2c583ea213","name":"Extract JSON from Agent","type":"n8n-nodes-base.code","position":[2160,2140],"parameters":{},"typeVersion":2},{"id":"c339c16b-fb23-4a9c-8912-2cc342cf6e27","name":"Simple Memory10","type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","position":[580,2660],"parameters":{},"typeVersion":1.3},{"id":"8e2bba93-66e0-4d65-89cf-d0f9b192e267","name":"Simple Memory11","type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","position":[-1220,1980],"parameters":{},"typeVersion":1.3},{"id":"b8e1ca14-aadc-4bf7-8cb1-e647dfb18e78","name":"Intent Recognition Agent - Backup","type":"@n8n/n8n-nodes-langchain.agent","onError":"continueErrorOutput","position":[-1440,1740],"parameters":{},"retryOnFail":true,"typeVersion":1.9},{"id":"daef52d9-49bc-4be0-aa57-79089a503530","name":"Set Processing Lock","type":"n8n-nodes-base.redis","position":[-6820,1480],"parameters":{},"typeVersion":1},{"id":"75dc3496-e16a-4654-b3e8-85411382905b","name":"Wait","type":"n8n-nodes-base.wait","position":[-6580,1480],"webhookId":"77bedc6a-785f-4656-a43b-0be71a58ee5c","parameters":{},"typeVersion":1.1},{"id":"b927fe9b-65c9-4085-974f-a4333032b56e","name":"Get Current Processing Lock","type":"n8n-nodes-base.redis","position":[-6360,1480],"parameters":{},"typeVersion":1},{"id":"ad77a21d-9f9d-49c6-adf5-55b2d07cd846","name":"Am I the Processor?","type":"n8n-nodes-base.if","position":[-6140,1480],"parameters":{},"typeVersion":2.2},{"id":"4973ac21-4d20-42d3-8252-73f12d05b5dc","name":"Pop All Batched Messages","type":"n8n-nodes-base.redis","position":[-5880,1480],"parameters":{},"typeVersion":1},{"id":"e686f949-3bfd-423e-a9d2-0e91bd21456c","name":"Delete Message List","type":"n8n-nodes-base.redis","position":[-5660,1480],"parameters":{},"typeVersion":1},{"id":"e4ebbfd7-1770-4d03-bf5b-7d1fe2e33f78","name":"Delete Processing Lock","type":"n8n-nodes-base.redis","position":[-5420,1480],"parameters":{},"typeVersion":1},{"id":"ac443f93-98d0-463e-94fe-df1db8027010","name":"Push","type":"n8n-nodes-base.redis","position":[-7080,1480],"parameters":{},"typeVersion":1},{"id":"c8382265-8331-4d48-b215-c3143b7e8217","name":"Is User Text Message?","type":"n8n-nodes-base.if","position":[-9260,1600],"parameters":{},"typeVersion":2.2},{"id":"e2391464-0536-4d82-9b52-a7bcff489e02","name":"Is Audio Message?","type":"n8n-nodes-base.if","position":[-9500,1580],"parameters":{},"typeVersion":2.2},{"id":"4f9fbe60-cfa9-49d3-a5ea-28260148a16f","name":"Send Error Notification","type":"n8n-nodes-base.gmail","position":[2160,2380],"webhookId":"6496a801-0075-4062-b7d2-5b89b969414a","parameters":{},"typeVersion":2.1},{"id":"a6dea7fc-f009-411c-b304-1dd27593169e","name":"Notify Client Error","type":"n8n-nodes-base.set","position":[2160,2580],"parameters":{},"typeVersion":3.4},{"id":"06918e43-f131-4de8-a936-0f669c67a092","name":"Send Error Notification1","type":"n8n-nodes-base.gmail","position":[-940,1760],"webhookId":"6496a801-0075-4062-b7d2-5b89b969414a","parameters":{},"typeVersion":2.1},{"id":"3b0962e9-b9ad-433a-bfe4-b96073c37198","name":"Send Error Notification4","type":"n8n-nodes-base.gmail","position":[1480,3240],"webhookId":"6496a801-0075-4062-b7d2-5b89b969414a","parameters":{},"typeVersion":2.1},{"id":"1055ed0f-a487-4247-87cb-e878cb9bcae2","name":"Notify Client Error4","type":"n8n-nodes-base.set","position":[1480,3480],"parameters":{},"typeVersion":3.4},{"id":"a7128293-1582-4332-8e5e-4e8f5174c490","name":"Sticky Note4","type":"n8n-nodes-base.stickyNote","position":[-10220,1280],"parameters":{"content":""},"typeVersion":1},{"id":"e163b2e6-e4f5-49f6-86e8-76e69e9a5aa9","name":"Sticky Note6","type":"n8n-nodes-base.stickyNote","position":[-2200,1180],"parameters":{"content":""},"typeVersion":1},{"id":"41d8d196-0173-4f72-afa5-e44fb2f750ef","name":"Combine Messages","type":"n8n-nodes-base.code","position":[-5200,1480],"parameters":{},"typeVersion":2},{"id":"7308fca3-2654-4b9d-8d60-300642e18c02","name":"Sticky Note7","type":"n8n-nodes-base.stickyNote","position":[-10220,2800],"parameters":{"content":""},"typeVersion":1},{"id":"5250fb2b-76da-41be-b69e-8b1c4aeb6358","name":"Schedule Trigger","type":"n8n-nodes-base.scheduleTrigger","position":[-10160,3120],"parameters":{},"typeVersion":1.2},{"id":"008f9ad8-5d20-4395-a8a8-09513800d4e9","name":"Calculate Tomorrow","type":"n8n-nodes-base.code","position":[-9940,3120],"parameters":{},"typeVersion":2},{"id":"e1fa722e-11fa-4cfa-ab6d-2575b26e5d70","name":"Get Schedule Events","type":"n8n-nodes-base.googleCalendar","position":[-9720,3120],"parameters":{},"typeVersion":1.3},{"id":"bf7d1859-23e2-40a3-a335-e7f3bf607de3","name":"Format Reminder Data","type":"n8n-nodes-base.code","position":[-9500,3120],"parameters":{},"typeVersion":2},{"id":"854296f2-50bf-445e-a324-04969fb687f6","name":"Search Schedule Events","type":"n8n-nodes-base.airtable","position":[-9280,3120],"parameters":{},"executeOnce":false,"typeVersion":2.1},{"id":"f58b9a7e-8332-45ba-8887-8a4c6d66efad","name":"Send Client Reminder","type":"n8n-nodes-base.whatsApp","position":[-9060,3120],"webhookId":"af3e3019-ecf7-49e8-b6a1-693e762d72e1","parameters":{},"typeVersion":1},{"id":"6c0e627c-aea9-41c9-b58c-ead20aee9706","name":"Sticky Note10","type":"n8n-nodes-base.stickyNote","position":[0,3720],"parameters":{"content":""},"typeVersion":1},{"id":"20673ec9-2671-4038-90db-7d968cb1ec16","name":"Google Gemini Chat Model8","type":"@n8n/n8n-nodes-langchain.lmChatGoogleGemini","position":[420,2660],"parameters":{},"typeVersion":1},{"id":"8f9b76a4-6291-48bb-8bd5-f7201268ae66","name":"Package Data","type":"n8n-nodes-base.code","position":[-5000,1480],"parameters":{},"typeVersion":2},{"id":"d6d44d1f-0be1-444a-b504-066a2970cc9c","name":"Create Event","type":"n8n-nodes-base.googleCalendar","onError":"continueErrorOutput","position":[2760,340],"parameters":{},"retryOnFail":true,"typeVersion":1.3},{"id":"834ec55e-9a93-480d-8781-287151df92b7","name":"Logs the confirmed booking details1","type":"n8n-nodes-base.airtable","position":[3480,160],"parameters":{},"typeVersion":2.1},{"id":"ea58a428-7b30-4340-8a0c-5e188cf2642f","name":"Information to be Saved in Airtable1","type":"n8n-nodes-base.set","position":[3260,160],"parameters":{},"typeVersion":3.4},{"id":"4556b6d0-1e01-438d-b051-4a6b41d8d279","name":"Simple Memory6","type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","position":[1160,900],"parameters":{},"typeVersion":1.3},{"id":"306991d2-98d8-4c6e-8b62-a844ae1b8178","name":"OpenAI Chat Model4","type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","position":[460,900],"parameters":{},"typeVersion":1.2},{"id":"4da4e901-b3ac-493f-b7c5-2ccee8822bbb","name":"Sticky Note12","type":"n8n-nodes-base.stickyNote","position":[0,0],"parameters":{"content":""},"typeVersion":1},{"id":"f4e7195b-4424-45d1-b917-cda3a74c54bb","name":"Send Confirmation","type":"n8n-nodes-base.gmail","position":[3020,160],"webhookId":"05ab2f0f-5757-40cc-8278-2c10bbc12983","parameters":{},"typeVersion":2.1},{"id":"aecd6c81-770f-41c7-969b-35cdc54bc8b0","name":"Send Error Notification2","type":"n8n-nodes-base.gmail","position":[2200,580],"webhookId":"6496a801-0075-4062-b7d2-5b89b969414a","parameters":{},"typeVersion":2.1},{"id":"1a55b451-15c1-4ddb-aa90-1e939a94afb9","name":"Notify Client Error2","type":"n8n-nodes-base.set","position":[2180,880],"parameters":{},"typeVersion":3.4},{"id":"fbd17d9b-2140-483f-acab-6f1cdb711336","name":"If","type":"n8n-nodes-base.if","position":[2400,360],"parameters":{},"typeVersion":2.2},{"id":"044e415a-cb8a-429d-b652-009647756f58","name":"check_availability","type":"n8n-nodes-base.googleCalendarTool","position":[1320,900],"parameters":{},"typeVersion":1.3},{"id":"26faa257-d04b-41de-a787-3d0bfa35d33a","name":"Fix JSON Output","type":"n8n-nodes-base.code","position":[2200,360],"parameters":{},"typeVersion":2},{"id":"238400e7-c75c-4370-a292-b042f0847b1b","name":"Parse Confirmation Message","type":"n8n-nodes-base.code","position":[3700,160],"parameters":{},"typeVersion":2},{"id":"5902017e-e94f-4bb1-a0cf-921c56931c56","name":"Send Error Notification5","type":"n8n-nodes-base.gmail","position":[3020,360],"webhookId":"6496a801-0075-4062-b7d2-5b89b969414a","parameters":{},"typeVersion":2.1},{"id":"81c7499e-be1c-418d-a197-c96f3093a518","name":"Notify Client Error5","type":"n8n-nodes-base.set","position":[3020,560],"parameters":{},"typeVersion":3.4},{"id":"b44e68d7-ecf7-4c19-9969-147a59bcb168","name":"list_services","type":"n8n-nodes-base.airtableTool","position":[1020,900],"parameters":{},"typeVersion":2.1},{"id":"d1a339d1-9ac9-4418-ab60-e58d4cfcb61a","name":"Google Gemini Chat Model3","type":"@n8n/n8n-nodes-langchain.lmChatGoogleGemini","position":[860,900],"parameters":{},"typeVersion":1},{"id":"ab49b961-5070-4fdb-ba99-610fe2f7226c","name":"Cancel Appointment","type":"n8n-nodes-base.airtable","position":[3160,1200],"parameters":{},"typeVersion":2.1},{"id":"0445991f-1ff5-4e8e-87cb-a8ddbb70848b","name":"Not Found","type":"n8n-nodes-base.code","position":[2720,1460],"parameters":{},"typeVersion":2},{"id":"786f58f5-5e7a-4c52-8c72-9dc2261562b8","name":"Sticky Note17","type":"n8n-nodes-base.stickyNote","position":[0,1180],"parameters":{"content":""},"typeVersion":1},{"id":"3af56cce-9f6f-469a-b45b-b0be7d5e7026","name":"Prepare Cancel Appointment1","type":"n8n-nodes-base.code","position":[3380,1200],"parameters":{},"typeVersion":2},{"id":"85b28008-4fc0-499f-9d23-1e325d9571e1","name":"Send Cancellation1","type":"n8n-nodes-base.gmail","position":[2720,1200],"webhookId":"99a3344a-9b6c-4e00-bab9-45a57ceed05c","parameters":{},"typeVersion":2.1},{"id":"69efd7f6-0aec-4ec4-8d18-3bf9ba2b9fa6","name":"Send Update Message","type":"n8n-nodes-base.whatsApp","position":[3560,2580],"webhookId":"2d49d505-964e-41af-a7e0-6ee1353d916e","parameters":{},"typeVersion":1},{"id":"17acf1ac-b319-4b43-96dd-b82d4fada4e3","name":"Send Cancel Message","type":"n8n-nodes-base.whatsApp","position":[3120,1800],"webhookId":"2d49d505-964e-41af-a7e0-6ee1353d916e","parameters":{},"typeVersion":1},{"id":"89041ce1-ec03-409d-864a-cc8352081495","name":"Send Booking Message","type":"n8n-nodes-base.whatsApp","position":[3480,920],"webhookId":"2d49d505-964e-41af-a7e0-6ee1353d916e","parameters":{},"typeVersion":1},{"id":"c21617b0-74a8-4d44-8e73-8e90d65ea2f8","name":"get_events","type":"n8n-nodes-base.googleCalendarTool","position":[720,2660],"parameters":{},"typeVersion":1.3},{"id":"ccc4bc70-6749-4f30-a44c-00889c248f42","name":"check_events","type":"n8n-nodes-base.googleCalendarTool","position":[1000,2660],"parameters":{},"typeVersion":1.3},{"id":"1527737d-79d1-40e6-bc08-5d9d2e3966dd","name":"list_services1","type":"n8n-nodes-base.airtableTool","position":[860,2660],"parameters":{},"typeVersion":2.1},{"id":"e6ce761e-f677-49f0-bd4b-5513aaf32e9a","name":"set_appointments","type":"n8n-nodes-base.redisTool","position":[1340,2660],"parameters":{},"typeVersion":1},{"id":"59b1ad49-250f-4713-8a0e-d6f9b67ee7b7","name":"get_appointments","type":"n8n-nodes-base.redisTool","position":[1160,2660],"parameters":{},"typeVersion":1},{"id":"98e3adf5-adc5-44cd-aacd-1c990490f3d9","name":"OpenAI Chat Model1","type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","position":[1500,2660],"parameters":{},"typeVersion":1.2},{"id":"41404bb1-3468-4127-895a-8d0a1287b683","name":"Send General Message","type":"n8n-nodes-base.whatsApp","position":[1840,3260],"webhookId":"2d49d505-964e-41af-a7e0-6ee1353d916e","parameters":{},"typeVersion":1},{"id":"b4e936fe-e942-44b9-aaa7-03be36226d8e","name":"list_services2","type":"n8n-nodes-base.airtableTool","position":[780,3460],"parameters":{},"typeVersion":2.1},{"id":"9fdc1868-440b-4eca-98d9-eb4579339db2","name":"get_customer_appointments","type":"n8n-nodes-base.googleCalendarTool","position":[640,3460],"parameters":{},"typeVersion":1.3},{"id":"bb310ab0-de1b-4f35-9f31-77b31bd3ead8","name":"Send Update Message1","type":"n8n-nodes-base.gmail","position":[3380,2120],"webhookId":"043d7025-645a-43a0-bd34-6bdc544ca5ff","parameters":{},"typeVersion":2.1},{"id":"ccacfc53-1a57-4017-9897-eff30adb326e","name":"Simple Memory","type":"@n8n/n8n-nodes-langchain.memoryBufferWindow","position":[300,1800],"parameters":{},"typeVersion":1.3},{"id":"21198f7a-6ef0-4fed-815e-4f14d3e417ef","name":"Google Gemini Chat Model9","type":"@n8n/n8n-nodes-langchain.lmChatGoogleGemini","position":[140,1800],"parameters":{},"typeVersion":1},{"id":"d88c0a2d-ee1e-4b4d-8eea-f0a9fb18ac8d","name":"check_events1","type":"n8n-nodes-base.googleCalendarTool","position":[720,1800],"parameters":{},"typeVersion":1.3},{"id":"5f9fc427-b3f5-4bb7-86c8-edee42360385","name":"list_services3","type":"n8n-nodes-base.airtableTool","position":[580,1800],"parameters":{},"typeVersion":2.1},{"id":"0f5f7e72-63de-460f-a9c2-7b89f9393cbe","name":"set_appointments1","type":"n8n-nodes-base.redisTool","position":[1060,1800],"parameters":{},"typeVersion":1},{"id":"1bc155fc-4920-4b2c-bcc8-bc510bf4b918","name":"get_appointments1","type":"n8n-nodes-base.redisTool","position":[880,1800],"parameters":{},"typeVersion":1},{"id":"d9dc9b2c-4a36-4c7d-b675-a4fe34067993","name":"OpenAI Chat Model3","type":"@n8n/n8n-nodes-langchain.lmChatOpenAi","position":[1240,1800],"parameters":{},"typeVersion":1.2},{"id":"574c88ca-e7e9-4ad9-a69b-d74820013752","name":"Cancellation Agent - Backup","type":"@n8n/n8n-nodes-langchain.agent","onError":"continueErrorOutput","position":[840,1480],"parameters":{},"typeVersion":1.9},{"id":"8904e9c5-acde-4d3b-be2a-d0d099f810b9","name":"Send Error Notification3","type":"n8n-nodes-base.gmail","position":[1540,1500],"webhookId":"6496a801-0075-4062-b7d2-5b89b969414a","parameters":{},"typeVersion":2.1},{"id":"3dbc0e2a-5eac-4cb0-ae9a-74b16dc265d6","name":"Notify Client Error3","type":"n8n-nodes-base.set","position":[1540,1780],"parameters":{},"typeVersion":3.4},{"id":"7ca7368d-8a9c-4f88-a6aa-9d8be3c1d19d","name":"Extract JSON from Cancellation Agent","type":"n8n-nodes-base.code","position":[1540,1260],"parameters":{},"typeVersion":2},{"id":"f7ec6624-13b7-4478-bbd9-3d15386dad04","name":"Delete Ready?","type":"n8n-nodes-base.if","position":[2000,1400],"parameters":{},"typeVersion":2.2},{"id":"d46257c3-750c-4ec0-a42e-1e12f4e783f3","name":"Delete Event","type":"n8n-nodes-base.googleCalendar","onError":"continueErrorOutput","position":[2300,1260],"parameters":{},"retryOnFail":true,"typeVersion":1.3},{"id":"4cb93210-1b02-4969-8724-119fb3de46a9","name":"Search Delete Record","type":"n8n-nodes-base.airtable","position":[2920,1200],"parameters":{},"typeVersion":2.1},{"id":"cac8067d-aa1d-46ad-994f-736b786b6c83","name":"get_events1","type":"n8n-nodes-base.googleCalendarTool","position":[440,1800],"parameters":{},"typeVersion":1.3},{"id":"9c29c462-0032-4709-a1d8-61837acf67c1","name":"Rate Limiter","type":"n8n-nodes-base.code","position":[-9040,1600],"parameters":{},"typeVersion":2},{"id":"c153ab9b-b644-41cd-a15f-8b37fffe8807","name":"Check Limit","type":"n8n-nodes-base.code","position":[-8400,1600],"parameters":{},"typeVersion":2},{"id":"1d056488-5042-4e42-b01b-908cc3f009d3","name":"Check Rate Limited","type":"n8n-nodes-base.if","position":[-8220,1600],"parameters":{},"typeVersion":2.2},{"id":"d9a21e55-4c20-41b5-ace6-7836f879e9ec","name":"Redis Hourly","type":"n8n-nodes-base.redis","position":[-8820,1600],"parameters":{},"typeVersion":1},{"id":"4b008718-6175-4f1f-bc60-6b48624a3569","name":"Increment Counter Hourly","type":"n8n-nodes-base.redis","position":[-8620,1600],"parameters":{},"typeVersion":1},{"id":"412e5fec-2306-4919-822d-23ca49a9dc69","name":"Send Mesage?","type":"n8n-nodes-base.if","position":[-7980,1360],"parameters":{},"typeVersion":2.2},{"id":"4da9c235-3109-433a-be8c-283db9f34bc6","name":"Send Rate Limit Email","type":"n8n-nodes-base.gmail","position":[-7340,1360],"webhookId":"6496a801-0075-4062-b7d2-5b89b969414a","parameters":{},"typeVersion":2.1},{"id":"304863ac-3ff6-435f-a1cd-f757bb8aa1bd","name":"Send User Message","type":"n8n-nodes-base.whatsApp","position":[-7740,1360],"webhookId":"2d49d505-964e-41af-a7e0-6ee1353d916e","parameters":{},"typeVersion":1},{"id":"1a293f83-112d-483a-94f4-d73952cfb61e","name":"Send Owner Message","type":"n8n-nodes-base.whatsApp","position":[-7540,1360],"webhookId":"2d49d505-964e-41af-a7e0-6ee1353d916e","parameters":{},"typeVersion":1},{"id":"d67b5020-f8a3-4dc1-ad93-44a66c1ba4f1","name":"Sticky Note8","type":"n8n-nodes-base.stickyNote","position":[-10220,3380],"parameters":{"content":""},"typeVersion":1},{"id":"c12bca9c-df6f-43de-a9f2-6b05956bd7e9","name":"Send Media Warning Owner","type":"n8n-nodes-base.whatsApp","position":[-4460,1540],"webhookId":"2d49d505-964e-41af-a7e0-6ee1353d916e","parameters":{},"typeVersion":1},{"id":"daf0dd26-544d-4872-83bf-fc2d37342608","name":"Send File Warning Owner","type":"n8n-nodes-base.whatsApp","position":[-4460,1780],"webhookId":"2d49d505-964e-41af-a7e0-6ee1353d916e","parameters":{},"typeVersion":1},{"id":"ea07cc15-b5db-4e6c-b6f0-31869b479043","name":"Send User Notification","type":"n8n-nodes-base.whatsApp","position":[-4240,1660],"webhookId":"2d49d505-964e-41af-a7e0-6ee1353d916e","parameters":{},"typeVersion":1},{"id":"e96a2b5c-e592-4878-b60d-e3dfdee7df90","name":"Cancellation Agent","type":"@n8n/n8n-nodes-langchain.agent","onError":"continueErrorOutput","position":[300,1460],"parameters":{},"retryOnFail":true,"typeVersion":1.9},{"id":"68ef6339-eef8-4211-b3ab-5108284df01a","name":"Notify Client","type":"n8n-nodes-base.whatsApp","position":[-940,1980],"webhookId":"2d49d505-964e-41af-a7e0-6ee1353d916e","parameters":{},"typeVersion":1},{"id":"fd1ce44a-8caa-43db-bac6-560f642372f3","name":"Booking Agent","type":"@n8n/n8n-nodes-langchain.agent","onError":"continueErrorOutput","position":[220,540],"parameters":{},"retryOnFail":true,"typeVersion":1.9},{"id":"20f47316-cf4b-4d21-bf72-ac205e0a42be","name":"Booking Agent - Backup","type":"@n8n/n8n-nodes-langchain.agent","onError":"continueErrorOutput","position":[1420,560],"parameters":{},"retryOnFail":false,"typeVersion":1.9},{"id":"9a6746fa-e62d-4cc3-9b66-3e0f2713fce9","name":"Parse Intent JSON","type":"n8n-nodes-base.code","position":[-940,1480],"parameters":{},"typeVersion":2},{"id":"e14a0e43-9987-4b89-b2a8-1affbf91747b","name":"Get Calendar Events","type":"n8n-nodes-base.googleCalendar","position":[-9940,2380],"parameters":{},"typeVersion":1.3},{"id":"3d00b00f-05ed-4826-a5a0-f5f54200b443","name":"Detect Conflicts","type":"n8n-nodes-base.code","position":[-9540,2380],"parameters":{},"typeVersion":2},{"id":"1de87705-d44f-4bc4-b2d8-c73def148aed","name":"Format Alert Message","type":"n8n-nodes-base.code","position":[-9320,2380],"parameters":{},"typeVersion":2},{"id":"c6aee48f-d9f1-4111-bccd-3c75c11d5065","name":"Send WhatsApp Alert","type":"n8n-nodes-base.whatsApp","position":[-9040,2280],"webhookId":"c83309ed-6bcf-4c99-9e35-078cd87973b7","parameters":{},"typeVersion":1},{"id":"432c71b4-b505-421c-bf66-092f0c462ca0","name":"Send Email Alert","type":"n8n-nodes-base.gmail","position":[-9040,2540],"webhookId":"ca92f4db-316e-4239-b317-dbcc7267fc6d","parameters":{},"typeVersion":2.1},{"id":"42cf8953-f292-465c-9330-decdd5e0beb0","name":"Get Airtable Bookings","type":"n8n-nodes-base.airtable","position":[-9740,2380],"parameters":{},"executeOnce":true,"typeVersion":2.1},{"id":"c0253b8f-e2e8-4d90-8354-b50403a580d7","name":"Schedule Trigger1","type":"n8n-nodes-base.scheduleTrigger","position":[-10140,2380],"parameters":{},"typeVersion":1.2},{"id":"581345ee-f6ad-4d64-9d05-b0d1ed29ccd6","name":"Sticky Note11","type":"n8n-nodes-base.stickyNote","position":[-10220,2080],"parameters":{"content":""},"typeVersion":1},{"id":"6f7d620a-8cd0-4cbb-b3a5-80b697b4f044","name":"Sticky Note13","type":"n8n-nodes-base.stickyNote","position":[-10220,-1020],"parameters":{"content":""},"typeVersion":1},{"id":"1e6284ab-9d98-48f1-ae6c-ba7344e60a5f","name":"Update Agent","type":"@n8n/n8n-nodes-langchain.agent","onError":"continueErrorOutput","position":[140,2340],"parameters":{},"retryOnFail":true,"typeVersion":1.9},{"id":"4963f829-bcd0-44ec-80ce-234a7c7e2115","name":"Update Agent - Backup","type":"@n8n/n8n-nodes-langchain.agent","onError":"continueErrorOutput","position":[1360,2360],"parameters":{},"retryOnFail":true,"typeVersion":1.9},{"id":"35c72cf2-f4f6-41dd-8a55-ce119f167980","name":"Max Iterations?","type":"n8n-nodes-base.if","position":[960,440],"parameters":{},"typeVersion":2.2},{"id":"52341996-33ad-45aa-a6b2-3533ca6a4959","name":"Max Iterations?1","type":"n8n-nodes-base.if","position":[640,1380],"parameters":{},"typeVersion":2.2},{"id":"505ff291-1f0e-4a2e-af24-09829dcc3868","name":"Max Iterations?2","type":"n8n-nodes-base.if","position":[880,2240],"parameters":{},"typeVersion":2.2},{"id":"3e52fffe-b306-453c-b049-3784144cd786","name":"Max Iterations?3","type":"n8n-nodes-base.if","position":[-1360,1500],"parameters":{},"typeVersion":2.2},{"id":"1b2ea972-f088-4e27-aa93-813cfaba9e80","name":"Set Initial Data","type":"n8n-nodes-base.set","position":[-9740,1580],"parameters":{},"typeVersion":3.4},{"id":"9a10a36f-6d17-4720-a5e5-a32f6b6ce227","name":"Fetch Configuration","type":"n8n-nodes-base.airtable","onError":"continueRegularOutput","position":[-9960,1580],"parameters":{},"typeVersion":2.1}],"active":false,"pinData":{},"settings":{"executionOrder":"v1"},"versionId":"b7929b97-f987-421b-a7ab-691877ff27c5","connections":{"If":{"main":[[{"node":"Create Event","type":"main","index":0}],[{"node":"Send Booking Message","type":"main","index":0}]]},"File":{"main":[[{"node":"Intent Recognition Agent","type":"main","index":0}]]},"Push":{"main":[[{"node":"Set Processing Lock","type":"main","index":0}]]},"Text":{"main":[[{"node":"Intent Recognition Agent","type":"main","index":0}]]},"Wait":{"main":[[{"node":"Get Current Processing Lock","type":"main","index":0}]]},"Audio":{"main":[[{"node":"Intent Recognition Agent","type":"main","index":0}]]},"Image":{"main":[[{"node":"Intent Recognition Agent","type":"main","index":0}]]},"Not Found":{"main":[[{"node":"Send Cancel Message","type":"main","index":0}]]},"Input type":{"main":[[{"node":"Text","type":"main","index":0}],[{"node":"Get Audio Url","type":"main","index":0}],[{"node":"Send Media Warning Owner","type":"main","index":0}],[{"node":"Send File Warning Owner","type":"main","index":0}],[{"node":"Not supported","type":"main","index":0}]]},"get_events":{"ai_tool":[[{"node":"Update Agent","type":"ai_tool","index":0},{"node":"Update Agent - Backup","type":"ai_tool","index":0}]]},"Check Limit":{"main":[[{"node":"Check Rate Limited","type":"main","index":0}]]},"get_events1":{"ai_tool":[[{"node":"Cancellation Agent","type":"ai_tool","index":0},{"node":"Cancellation Agent - Backup","type":"ai_tool","index":0}]]},"Create Event":{"main":[[{"node":"Send Confirmation","type":"main","index":0}],[{"node":"Send Error Notification5","type":"main","index":0},{"node":"Notify Client Error5","type":"main","index":0}]]},"Delete Event":{"main":[[{"node":"Send Cancellation1","type":"main","index":0}],[{"node":"Not Found","type":"main","index":0}]]},"Get File Url":{"main":[[{"node":"Download File","type":"main","index":0}]]},"Package Data":{"main":[[{"node":"Input type","type":"main","index":0}]]},"Rate Limiter":{"main":[[{"node":"Redis Hourly","type":"main","index":0}]]},"Redis Hourly":{"main":[[{"node":"Increment Counter Hourly","type":"main","index":0}]]},"Send Mesage?":{"main":[[{"node":"Send User Message","type":"main","index":0}]]},"Switch Route":{"main":[[{"node":"Booking Agent","type":"main","index":0}],[{"node":"Cancellation Agent","type":"main","index":0}],[{"node":"Update Agent","type":"main","index":0}],[{"node":"General Inquiry","type":"main","index":0}]]},"Update Agent":{"main":[[{"node":"Max Iterations?2","type":"main","index":0}],[{"node":"Update Agent - Backup","type":"main","index":0}]]},"Update Event":{"main":[[{"node":"Search Airtable Record","type":"main","index":0}]]},"check_events":{"ai_tool":[[{"node":"Update Agent","type":"ai_tool","index":0},{"node":"Update Agent - Backup","type":"ai_tool","index":0}]]},"Analyze Image":{"main":[[{"node":"Image","type":"main","index":0}]]},"Booking Agent":{"main":[[{"node":"Max Iterations?","type":"main","index":0}],[{"node":"Booking Agent - Backup","type":"main","index":0}]]},"Delete Ready?":{"main":[[{"node":"Delete Event","type":"main","index":0}],[{"node":"Send Cancel Message","type":"main","index":0}]]},"Download File":{"main":[[{"node":"Extract from File","type":"main","index":0}]]},"Get Audio Url":{"main":[[{"node":"Download Audio","type":"main","index":0}]]},"Get Image Url":{"main":[[{"node":"Download Image","type":"main","index":0}]]},"Only PDF File":{"main":[[{"node":"Get File Url","type":"main","index":0}],[{"node":"Incorrect format","type":"main","index":0}]]},"Simple Memory":{"ai_memory":[[{"node":"Cancellation Agent - Backup","type":"ai_memory","index":0},{"node":"Cancellation Agent","type":"ai_memory","index":0}]]},"Update Ready?":{"main":[[{"node":"Update Event","type":"main","index":0}],[{"node":"Multiple Appointments","type":"main","index":0}]]},"check_events1":{"ai_tool":[[{"node":"Cancellation Agent","type":"ai_tool","index":0},{"node":"Cancellation Agent - Backup","type":"ai_tool","index":0}]]},"list_services":{"ai_tool":[[{"node":"Booking Agent","type":"ai_tool","index":0},{"node":"Booking Agent - Backup","type":"ai_tool","index":0}]]},"Download Audio":{"main":[[{"node":"Transcribe Audio","type":"main","index":0}]]},"Download Image":{"main":[[{"node":"Analyze Image","type":"main","index":0}]]},"Simple Memory1":{"ai_memory":[[{"node":"General Inquiry - Backup","type":"ai_memory","index":0},{"node":"General Inquiry","type":"ai_memory","index":0}]]},"Simple Memory2":{"ai_memory":[[{"node":"Intent Recognition Agent","type":"ai_memory","index":0}]]},"Simple Memory6":{"ai_memory":[[{"node":"Booking Agent","type":"ai_memory","index":0},{"node":"Booking Agent - Backup","type":"ai_memory","index":0}]]},"list_services1":{"ai_tool":[[{"node":"Update Agent","type":"ai_tool","index":0},{"node":"Update Agent - Backup","type":"ai_tool","index":0}]]},"list_services2":{"ai_tool":[[{"node":"General Inquiry - Backup","type":"ai_tool","index":0},{"node":"General Inquiry","type":"ai_tool","index":0}]]},"list_services3":{"ai_tool":[[{"node":"Cancellation Agent","type":"ai_tool","index":0},{"node":"Cancellation Agent - Backup","type":"ai_tool","index":0}]]},"Fix JSON Output":{"main":[[{"node":"If","type":"main","index":0}]]},"General Inquiry":{"main":[[{"node":"Parse General Inquiry Output","type":"main","index":0}],[{"node":"General Inquiry - Backup","type":"main","index":0}]]},"Max Iterations?":{"main":[[{"node":"Fix JSON Output","type":"main","index":0}],[{"node":"Booking Agent - Backup","type":"main","index":0}]]},"Simple Memory10":{"ai_memory":[[{"node":"Update Agent","type":"ai_memory","index":0},{"node":"Update Agent - Backup","type":"ai_memory","index":0}]]},"Simple Memory11":{"ai_memory":[[{"node":"Intent Recognition Agent - Backup","type":"ai_memory","index":0}]]},"Combine Messages":{"main":[[{"node":"Package Data","type":"main","index":0}]]},"Detect Conflicts":{"main":[[{"node":"Format Alert Message","type":"main","index":0}]]},"Max Iterations?1":{"main":[[{"node":"Extract JSON from Cancellation Agent","type":"main","index":0}],[{"node":"Cancellation Agent - Backup","type":"main","index":0}]]},"Max Iterations?2":{"main":[[{"node":"Extract JSON from Agent","type":"main","index":0}],[{"node":"Update Agent - Backup","type":"main","index":0}]]},"Max Iterations?3":{"main":[[{"node":"Parse Intent JSON","type":"main","index":0}],[{"node":"Intent Recognition Agent - Backup","type":"main","index":0}]]},"Schedule Trigger":{"main":[[{"node":"Calculate Tomorrow","type":"main","index":0}]]},"Set Initial Data":{"main":[[{"node":"Is Audio Message?","type":"main","index":0}]]},"Transcribe Audio":{"main":[[{"node":"Audio","type":"main","index":0}]]},"WhatsApp Trigger":{"main":[[{"node":"Fetch Configuration","type":"main","index":0}]]},"get_appointments":{"ai_tool":[[{"node":"Update Agent","type":"ai_tool","index":0},{"node":"Update Agent - Backup","type":"ai_tool","index":0}]]},"set_appointments":{"ai_tool":[[{"node":"Update Agent","type":"ai_tool","index":0},{"node":"Update Agent - Backup","type":"ai_tool","index":0}]]},"Extract from File":{"main":[[{"node":"File","type":"main","index":0}]]},"Is Audio Message?":{"main":[[{"node":"Input type","type":"main","index":0}],[{"node":"Is User Text Message?","type":"main","index":0}]]},"OpenAI Chat Model":{"ai_languageModel":[[{"node":"Intent Recognition Agent - Backup","type":"ai_languageModel","index":0}]]},"Parse Intent JSON":{"main":[[{"node":"Switch Route","type":"main","index":0}]]},"Schedule Trigger1":{"main":[[{"node":"Get Calendar Events","type":"main","index":0}]]},"Send Confirmation":{"main":[[{"node":"Information to be Saved in Airtable1","type":"main","index":0}]]},"Send User Message":{"main":[[{"node":"Send Owner Message","type":"main","index":0}]]},"get_appointments1":{"ai_tool":[[{"node":"Cancellation Agent","type":"ai_tool","index":0},{"node":"Cancellation Agent - Backup","type":"ai_tool","index":0}]]},"set_appointments1":{"ai_tool":[[{"node":"Cancellation Agent","type":"ai_tool","index":0},{"node":"Cancellation Agent - Backup","type":"ai_tool","index":0}]]},"Calculate Tomorrow":{"main":[[{"node":"Get Schedule Events","type":"main","index":0}]]},"Cancel Appointment":{"main":[[{"node":"Prepare Cancel Appointment1","type":"main","index":0}]]},"Cancellation Agent":{"main":[[{"node":"Max Iterations?1","type":"main","index":0}],[{"node":"Cancellation Agent - Backup","type":"main","index":0}]]},"Check Rate Limited":{"main":[[{"node":"Send Mesage?","type":"main","index":0}],[{"node":"Push","type":"main","index":0}]]},"OpenAI Chat Model1":{"ai_languageModel":[[{"node":"Update Agent - Backup","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model2":{"ai_languageModel":[[{"node":"General Inquiry - Backup","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model3":{"ai_languageModel":[[{"node":"Cancellation Agent - Backup","type":"ai_languageModel","index":0}]]},"OpenAI Chat Model4":{"ai_languageModel":[[{"node":"Booking Agent","type":"ai_languageModel","index":0}]]},"Send Cancellation1":{"main":[[{"node":"Search Delete Record","type":"main","index":0}]]},"Send Owner Message":{"main":[[{"node":"Send Rate Limit Email","type":"main","index":0}]]},"check_availability":{"ai_tool":[[{"node":"Booking Agent","type":"ai_tool","index":0},{"node":"Booking Agent - Backup","type":"ai_tool","index":0}]]},"Am I the Processor?":{"main":[[{"node":"Pop All Batched Messages","type":"main","index":0}]]},"Delete Message List":{"main":[[{"node":"Delete Processing Lock","type":"main","index":0}]]},"Fetch Configuration":{"main":[[{"node":"Set Initial Data","type":"main","index":0}]]},"Get Calendar Events":{"main":[[{"node":"Get Airtable Bookings","type":"main","index":0}]]},"Get Schedule Events":{"main":[[{"node":"Format Reminder Data","type":"main","index":0}]]},"Notify Client Error":{"main":[[{"node":"Send Update Message","type":"main","index":0}]]},"Set Processing Lock":{"main":[[{"node":"Wait","type":"main","index":0}]]},"Format Alert Message":{"main":[[{"node":"Send WhatsApp Alert","type":"main","index":0},{"node":"Send Email Alert","type":"main","index":0}]]},"Format Reminder Data":{"main":[[{"node":"Search Schedule Events","type":"main","index":0}]]},"From audio to audio?":{"main":[[{"node":"Send message","type":"main","index":0}],[{"node":"Send message","type":"main","index":0}]]},"Notify Client Error2":{"main":[[{"node":"Send Booking Message","type":"main","index":0}]]},"Notify Client Error3":{"main":[[{"node":"Send Cancel Message","type":"main","index":0}]]},"Notify Client Error4":{"main":[[{"node":"Send General Message","type":"main","index":0}]]},"Notify Client Error5":{"main":[[{"node":"Send Booking Message","type":"main","index":0}]]},"Search Delete Record":{"main":[[{"node":"Cancel Appointment","type":"main","index":0}]]},"Send Update Message1":{"main":[[{"node":"Customer Confirmation Message","type":"main","index":0}]]},"Get Airtable Bookings":{"main":[[{"node":"Detect Conflicts","type":"main","index":0}]]},"Is User Text Message?":{"main":[[{"node":"Rate Limiter","type":"main","index":0}]]},"Multiple Appointments":{"main":[[{"node":"Send Update Message","type":"main","index":0}]]},"Update Agent - Backup":{"main":[[{"node":"Extract JSON from Agent","type":"main","index":0}],[{"node":"Send Error Notification","type":"main","index":0},{"node":"Notify Client Error","type":"main","index":0}]]},"Booking Agent - Backup":{"main":[[{"node":"Fix JSON Output","type":"main","index":0}],[{"node":"Send Error Notification2","type":"main","index":0},{"node":"Notify Client Error2","type":"main","index":0}]]},"Delete Processing Lock":{"main":[[{"node":"Combine Messages","type":"main","index":0}]]},"Fix mimeType for Audio":{"main":[[{"node":"Send audio","type":"main","index":0}]]},"Search Airtable Record":{"main":[[{"node":"Update Airtable Record","type":"main","index":0}]]},"Search Schedule Events":{"main":[[{"node":"Send Client Reminder","type":"main","index":0}]]},"Update Airtable Record":{"main":[[{"node":"Send Update Message1","type":"main","index":0}]]},"Extract JSON from Agent":{"main":[[{"node":"Update Ready?","type":"main","index":0}]]},"Generate Audio Response":{"main":[[{"node":"Fix mimeType for Audio","type":"main","index":0}]]},"Send File Warning Owner":{"main":[[{"node":"Send User Notification","type":"main","index":0}]]},"General Inquiry - Backup":{"main":[[{"node":"Parse General Inquiry Output","type":"main","index":0}],[{"node":"Notify Client Error4","type":"main","index":0},{"node":"Send Error Notification4","type":"main","index":0}]]},"Google Gemini Chat Model":{"ai_languageModel":[[{"node":"General Inquiry","type":"ai_languageModel","index":0}]]},"Increment Counter Hourly":{"main":[[{"node":"Check Limit","type":"main","index":0}]]},"Intent Recognition Agent":{"main":[[{"node":"Max Iterations?3","type":"main","index":0}],[{"node":"Intent Recognition Agent - Backup","type":"main","index":0}]]},"Pop All Batched Messages":{"main":[[{"node":"Delete Message List","type":"main","index":0}]]},"Send Error Notification3":{"main":[[{"node":"Send Cancel Message","type":"main","index":0}]]},"Send Media Warning Owner":{"main":[[{"node":"Send User Notification","type":"main","index":0}]]},"Google Gemini Chat Model1":{"ai_languageModel":[[{"node":"Intent Recognition Agent","type":"ai_languageModel","index":0}]]},"Google Gemini Chat Model3":{"ai_languageModel":[[{"node":"Booking Agent - Backup","type":"ai_languageModel","index":0}]]},"Google Gemini Chat Model8":{"ai_languageModel":[[{"node":"Update Agent","type":"ai_languageModel","index":0}]]},"Google Gemini Chat Model9":{"ai_languageModel":[[{"node":"Cancellation Agent","type":"ai_languageModel","index":0}]]},"get_customer_appointments":{"ai_tool":[[{"node":"General Inquiry","type":"ai_tool","index":0},{"node":"General Inquiry - Backup","type":"ai_tool","index":0}]]},"Parse Confirmation Message":{"main":[[{"node":"Send Booking Message","type":"main","index":0}]]},"Cancellation Agent - Backup":{"main":[[{"node":"Extract JSON from Cancellation Agent","type":"main","index":0}],[{"node":"Send Error Notification3","type":"main","index":0},{"node":"Notify Client Error3","type":"main","index":0}]]},"Get Current Processing Lock":{"main":[[{"node":"Am I the Processor?","type":"main","index":0}]]},"Prepare Cancel Appointment1":{"main":[[{"node":"Send Cancel Message","type":"main","index":0}]]},"Parse General Inquiry Output":{"main":[[{"node":"Send General Message","type":"main","index":0}]]},"Customer Confirmation Message":{"main":[[{"node":"Send Update Message","type":"main","index":0}]]},"Intent Recognition Agent - Backup":{"main":[[{"node":"Parse Intent JSON","type":"main","index":0}],[{"node":"Send Error Notification1","type":"main","index":0},{"node":"Notify Client","type":"main","index":0}]]},"Logs the confirmed booking details1":{"main":[[{"node":"Parse Confirmation Message","type":"main","index":0}]]},"Extract JSON from Cancellation Agent":{"main":[[{"node":"Delete Ready?","type":"main","index":0}]]},"Information to be Saved in Airtable1":{"main":[[{"node":"Logs the confirmed booking details1","type":"main","index":0}]]}}}